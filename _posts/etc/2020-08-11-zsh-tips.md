---
title: "Zsh, oh-my-zsh, iterm2 사용시 참고사항 정리"
excerpt: "Tips for setting Zsh, oh-my-zsh, iterm2 on MacOS"
categories:
  - "etc"
tag:
  - "zsh"
  - "oh-my-zsh"
  - "iterm2"
  - "tips"
last_modified_at: 2020-08-11
---

> zsh 을 사용하면서 참고하게 되는 사항들을 정리하여 둡니다. 나중에 재설정해야 하는 시점이나, 혹은 저처럼 맥북을 새로 구입하여 설정하시는 분들께 참고가 될 만한 자료입니다. zsh 은 시스템 설정인 만큼, 백업/복원이 쉽지는 않으니 참고가 되시기 바랍니다. (물론 타임머신 통백업/복구는 가능합니다.)

zsh 이 기본적으로 설치되어 있다는 걸, 이번에 새로 맥북을 세팅하면서 알았습니다. zsh은 기본으로 설치되어 있고, 추가적인 설정, 설치만 진행하면 됩니다. 만약 설치가 되어 있지 않다면 homebrew 나 기타 방법을 이용하여 zsh을 설치합니다.
{: .notice--info}

<br/>

## 기본 shell 을 zsh로 변경하기

zsh을 설치했다면 아래와 같이 `zsh --version` 명령어를 이용하여 정상적으로 설치되어 있는지 확인합니다.

```sh
 jonghunpark@Jonghun-mbpw  ~  zsh --version
zsh 5.8 (x86_64-apple-darwin19.3.0)
 jonghunpark@Jonghun-mbpw  ~ 
```

위와 같이 나온다면, 정상적으로 설치된 것이고 그렇다면 기본 쉘인 `bash`를 `zsh` 로 변경해야 합니다. 그래야 원하는 데로 조금 더 강력한 기능들이 포함된 <mark style='background-color: #dcffe4'>oh-my-zsh</mark> 을 이용할 수 있습니다. 기본 쉘을 변경하는 명령어는 `chsh` 입니다. 아래와 같이 실행하여 기본 쉘을 변경합니다.

```sh
chsh -s `which zsh`
```

이 명령어는 `which zsh` 명령어를 통해 알게된 zsh 명령어의 실행 위치 (실체 위치)를 이용하여 `chsh` 명령어로 바꿔주는 것을 의미합니다. 

이 명령어는 MacOS 에서 확인된 것들입니다. Linux 기반 다른 OS의 경우 명령어가 다소 상이할 수 있습니다. 
{: .notice--warning}

<br/>

## oh-my-zsh 설치하기

이제 다음 명령어로 Oh My Zsh 을 설치합니다. wget 이나 fetch 하는 방법도 있습니다. [공식 GitHub](https://github.com/ohmyzsh/ohmyzsh) 를 참고하시면 됩니다.

```sh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

<br/>

## 테마 설정하기

테마는 취향에 따라 설정하고, 또 계속해서 새로운 것들이 나오고 있으니 [공식 테마 사이트](https://github.com/ohmyzsh/ohmyzsh/wiki/External-themes) 등을 참고해서 적용하면 됩니다. 적용방법은 마찬가지로 `.zshrc` 파일을 열고 <mark style='background-color: #fff5b1'>ZSH_THEME</mark> 부분을 찾습니다. 그리고 원하는 테마를 적용하면 됩니다.

우선 원하는 테마 파일을 다운로드 받아, `~/.oh-my-zsh/custom/themes` 폴더에 복사해 둡니다. 확장자는 `.zsh-theme` 로 되어 있는 파일을 넣으면 됩니다. 그리고 확장자를 제회한 이름을 <mark style='background-color: #fff5b1'>ZSH_THEME</mark> 부분에 써 주면 됩니다. 예를 들어, 기본 테마 중 agnoster 테마를 적용하고자 한다면 아래와 같이 적어줍니다.

```sh
ZSH_THEME="agnoster"
```

기본적으로 설치되어 있는 테마들은 `~/.oh-my-zsh/themes` 하위에 있습니다. 
{: .notice--info}

<br/>

## 대소문자 구분 여부 설정하기

기본 설정으로는 대소문자 구분을 하지 않게 되어 있습니다. 그런데 저 같은 경우 사용자 홈 폴더(`~`)에 dev 폴더를 만들어서 개발 관련한 작업들을 진행하는데, `de` 까지 입력하고 `tab` 키를 누르면 `Desktop` 이 되어버리는 경우가 있습니다. 이 때에는 `.zshrc` 파일에 아래와 같이 설정을 잡아줍니다. (기본적으로 사용자 홈 폴더에 있습니다.)

```properties
# Set to this to use case-sensitive completion
CASE_SENSITIVE="true"
```

이 설정은 대소문자를 구분 하겠다는 뜻입니다. 기본값은 저 값이 `false`였다는 것입니다.

<br/>

## 추가 플러그인 설치하기

zsh 은 다양한 형태의 플러그인을 제공하고 있고, 이들 중에서 추가로 필요한 플러그인은 다음 폴더에 설치하면 됩니다.

```
~/.oh-my-zsh/custom/plugins
```

저 폴더에 플러그인 졸더 자체를 두면 되기 때문에 해당 폴더에 그대로 원하는 플러그인을 check-out 받는 것이 편합니다.

```sh
# 플러그인 디렉토리로 이동
$ cd ~/.oh-my-zsh/custom/plugins

# zsh-syntax-highlighting 설치
$ git clone https://github.com/zsh-users/zsh-syntax-highlighting.git

# zsh-autosuggestions 설치
$ git clone https://github.com/zsh-users/zsh-autosuggestions
```

저는 위 두 개의 플러그인만을 사용합니다. (많이 쓴다고 크게 무거워지는 경우는 없었지만, 군더더기 없이 쓰고 싶어서 그렇게 했습니다.)

그리고 다시 `.zshrc` 파일을 열어 `plugins=` 부분에 아래와 같이 추가해 줍니다.

```properties
plugins=(
  git
  zsh-syntax-highlighting
  zsh-autosuggestions
 )
```

한줄에 한개씩 넣어주면 됩니다.

이렇게 하면 조금 더 보기 좋은 형태로 zsh을 사용할 수 있습니다.

<br/>

## 참고

- ohmyzsh 공식 Github : https://github.com/ohmyzsh/ohmyzsh

- ohmyzsh external 테마 wiki : https://github.com/ohmyzsh/ohmyzsh/wiki/External-themes

- https://gist.github.com/logicmd/4015090

- https://falsy.me/iterm2-vim-zsh의-syntax-highlight를-비롯한-플러그인-및-테마-설정하기-for-mac-os/